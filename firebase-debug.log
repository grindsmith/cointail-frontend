[debug] [2024-02-17T00:21:54.704Z] ----------------------------------------------------------------------
[debug] [2024-02-17T00:21:54.705Z] Command:       /Users/smith.e/.nvm/versions/node/v20.11.0/bin/node /Users/smith.e/Desktop/Personal/Github/cointail-frontend/node_modules/.bin/firebase deploy
[debug] [2024-02-17T00:21:54.706Z] CLI Version:   13.3.0
[debug] [2024-02-17T00:21:54.706Z] Platform:      darwin
[debug] [2024-02-17T00:21:54.706Z] Node Version:  v20.11.0
[debug] [2024-02-17T00:21:54.706Z] Time:          Fri Feb 16 2024 17:21:54 GMT-0700 (Mountain Standard Time)
[debug] [2024-02-17T00:21:54.706Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-02-17T00:21:54.742Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-02-17T00:21:54.743Z] > authorizing via signed-in user (deepersleeper2022@gmail.com)
[debug] [2024-02-17T00:21:54.743Z] [iam] checking project cointail-7b094 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2024-02-17T00:21:54.743Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/cointail-7b094:testIamPermissions [none]
[debug] [2024-02-17T00:21:54.744Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/cointail-7b094:testIamPermissions x-goog-quota-user=projects/cointail-7b094
[debug] [2024-02-17T00:21:54.744Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/cointail-7b094:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2024-02-17T00:21:55.242Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/cointail-7b094:testIamPermissions 200
[debug] [2024-02-17T00:21:55.242Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/cointail-7b094:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2024-02-17T00:21:55.243Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/cointail-7b094/serviceAccounts/cointail-7b094@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-02-17T00:21:55.243Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/cointail-7b094/serviceAccounts/cointail-7b094@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-02-17T00:21:55.438Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/cointail-7b094/serviceAccounts/cointail-7b094@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-02-17T00:21:55.439Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/cointail-7b094/serviceAccounts/cointail-7b094@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-02-17T00:21:55.439Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/cointail-7b094 [none]
[debug] [2024-02-17T00:21:55.606Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/cointail-7b094 200
[debug] [2024-02-17T00:21:55.606Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/cointail-7b094 {"projectId":"cointail-7b094","projectNumber":"1017318781396","displayName":"CoinTail","name":"projects/cointail-7b094","resources":{"hostingSite":"cointail-7b094"},"state":"ACTIVE","etag":"1_de5f5212-8ead-4e08-900e-7c34f2249a1b"}
[debug] [2024-02-17T00:21:56.852Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/cointail-7b094/sites pageToken=&pageSize=10
[debug] [2024-02-17T00:21:57.845Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/cointail-7b094/sites 200
[debug] [2024-02-17T00:21:57.846Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/cointail-7b094/sites {"sites":[{"name":"projects/cointail-7b094/sites/cointail-7b094","defaultUrl":"https://cointail-7b094.web.app","appId":"1:1017318781396:web:1522a8577d32686e4b6641","type":"DEFAULT_SITE"}]}
[debug] [2024-02-17T00:21:57.846Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/-/webApps/1:1017318781396:web:1522a8577d32686e4b6641/config [none]
[debug] [2024-02-17T00:21:58.207Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/-/webApps/1:1017318781396:web:1522a8577d32686e4b6641/config 200
[debug] [2024-02-17T00:21:58.208Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/-/webApps/1:1017318781396:web:1522a8577d32686e4b6641/config {"projectId":"cointail-7b094","appId":"1:1017318781396:web:1522a8577d32686e4b6641","storageBucket":"cointail-7b094.appspot.com","apiKey":"AIzaSyA818pWk3qsVyJw7-QOR6309diGXjv2fRQ","authDomain":"cointail-7b094.firebaseapp.com","messagingSenderId":"1017318781396","measurementId":"G-R0NRW142P6"}
[info] 
   Thank you for trying our experimental support for Vite on Firebase Hosting.
   While this integration is maintained by Googlers it is not a supported Firebase product.
   Issues filed on GitHub will be addressed on a best-effort basis by maintainers and other community members.

   Documentation: https://firebase.google.com/docs/hosting/frameworks/frameworks-overview
   File a bug: https://github.com/firebase/firebase-tools/issues/new?template=bug_report.md
   Submit a feature request: https://github.com/firebase/firebase-tools/issues/new?template=feature_request.md

   We'd love to learn from you. Express your interest in helping us shape the future of Firebase Hosting: https://goo.gle/41enW5X

[debug] [2024-02-17T00:22:06.092Z] [web frameworks] effective firebase.json:  {
  "hosting": [
    {
      "source": "hosting",
      "ignore": [
        "firebase.json",
        "**/.*",
        "**/node_modules/**"
      ],
      "frameworksBackend": {
        "region": "us-central1"
      },
      "site": "cointail-7b094",
      "rewrites": [
        {
          "source": "**",
          "destination": "/index.html"
        }
      ],
      "redirects": [],
      "headers": [
        {
          "source": "**/*.[jt]s",
          "headers": [
            {
              "key": "Set-Cookie",
              "value": "__FIREBASE_DEFAULTS__=eyJjb25maWciOnsicHJvamVjdElkIjoiY29pbnRhaWwtN2IwOTQiLCJhcHBJZCI6IjE6MTAxNzMxODc4MTM5Njp3ZWI6MTUyMmE4NTc3ZDMyNjg2ZTRiNjY0MSIsInN0b3JhZ2VCdWNrZXQiOiJjb2ludGFpbC03YjA5NC5hcHBzcG90LmNvbSIsImFwaUtleSI6IkFJemFTeUE4MThwV2szcXNWeUp3Ny1RT1I2MzA5ZGlHWGp2MmZSUSIsImF1dGhEb21haW4iOiJjb2ludGFpbC03YjA5NC5maXJlYmFzZWFwcC5jb20iLCJtZXNzYWdpbmdTZW5kZXJJZCI6IjEwMTczMTg3ODEzOTYiLCJtZWFzdXJlbWVudElkIjoiRy1SME5SVzE0MlA2In19; SameSite=Strict; Expires=2026-01-11T11:02:06.092Z; Path=/;"
            }
          ]
        }
      ],
      "cleanUrls": true,
      "public": ".firebase/cointail-7b094/hosting",
      "webFramework": "vite"
    }
  ],
  "functions": [
    {
      "source": "function",
      "codebase": "default",
      "ignore": [
        "node_modules",
        ".git",
        "firebase-debug.log",
        "firebase-debug.*.log"
      ]
    }
  ]
}
[info] 
[info] === Deploying to 'cointail-7b094'...
[info] 
[info] i  deploying firestore, functions, hosting 
[info] i  firestore: reading indexes from firestore/firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore/firestore.rules for compilation errors... 
[debug] [2024-02-17T00:22:06.095Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/cointail-7b094:test [none]
[debug] [2024-02-17T00:22:06.095Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/cointail-7b094:test [omitted]
[debug] [2024-02-17T00:22:06.713Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/cointail-7b094:test 200
[debug] [2024-02-17T00:22:06.713Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/cointail-7b094:test {}
[info] ✔  cloud.firestore: rules file firestore/firestore.rules compiled successfully 
[debug] [2024-02-17T00:22:06.714Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/cointail-7b094 [none]
[debug] [2024-02-17T00:22:06.919Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/cointail-7b094 200
[debug] [2024-02-17T00:22:06.919Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/cointail-7b094 {"projectId":"cointail-7b094","projectNumber":"1017318781396","displayName":"CoinTail","name":"projects/cointail-7b094","resources":{"hostingSite":"cointail-7b094"},"state":"ACTIVE","etag":"1_de5f5212-8ead-4e08-900e-7c34f2249a1b"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-02-17T00:22:06.919Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/cloudfunctions.googleapis.com [none]
[debug] [2024-02-17T00:22:06.919Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/cointail-7b094
[debug] [2024-02-17T00:22:06.920Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/runtimeconfig.googleapis.com [none]
[debug] [2024-02-17T00:22:06.920Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/cointail-7b094
[debug] [2024-02-17T00:22:06.921Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/cloudbuild.googleapis.com [none]
[debug] [2024-02-17T00:22:06.921Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/cloudbuild.googleapis.com x-goog-quota-user=projects/cointail-7b094
[debug] [2024-02-17T00:22:06.921Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/artifactregistry.googleapis.com [none]
[debug] [2024-02-17T00:22:06.921Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/artifactregistry.googleapis.com x-goog-quota-user=projects/cointail-7b094
[debug] [2024-02-17T00:22:07.312Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/runtimeconfig.googleapis.com 200
[debug] [2024-02-17T00:22:07.312Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-02-17T00:22:07.326Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/artifactregistry.googleapis.com 200
[debug] [2024-02-17T00:22:07.327Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-02-17T00:22:07.327Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/cloudbuild.googleapis.com 200
[debug] [2024-02-17T00:22:07.327Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-02-17T00:22:07.330Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/cloudfunctions.googleapis.com 200
[debug] [2024-02-17T00:22:07.331Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/cointail-7b094/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-02-17T00:22:07.331Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/cointail-7b094/adminSdkConfig [none]
[debug] [2024-02-17T00:22:07.443Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/cointail-7b094/adminSdkConfig 200
[debug] [2024-02-17T00:22:07.443Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/cointail-7b094/adminSdkConfig {"projectId":"cointail-7b094","storageBucket":"cointail-7b094.appspot.com"}
[debug] [2024-02-17T00:22:07.443Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/cointail-7b094/configs [none]
[debug] [2024-02-17T00:22:07.872Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/cointail-7b094/configs 200
[debug] [2024-02-17T00:22:07.872Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/cointail-7b094/configs {}
[debug] [2024-02-17T00:22:07.873Z] Validating nodejs source
[debug] [2024-02-17T00:22:08.411Z] > [functions] package.json contents: {
  "name": "api",
  "version": "1.0.0",
  "description": "",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "firebase:deploy": "node_modules/.bin/firebase deploy --only functions"
  },
  "author": "",
  "license": "ISC",
  "devDependencies": {
    "@google-cloud/functions-framework": "^3.1.3",
    "autocannon": "^7.10.0",
    "firebase-functions-test": "^3.1.1",
    "typescript": "^5.0.4"
  },
  "dependencies": {
    "alchemy-sdk": "^2.4.3",
    "axios": "^1.3.0",
    "cors": "^2.8.5",
    "dotenv": "^16.0.3",
    "express": "^4.18.2",
    "express-oauth2-jwt-bearer": "^1.3.0",
    "firebase-admin": "^12.0.0",
    "firebase-functions": "^4.7.0",
    "firebase-tools": "^13.3.0",
    "moment": "^2.29.4",
    "moment-timezone": "^0.5.41",
    "path": "^0.12.7",
    "swagger-ui-express": "^4.6.2",
    "web3": "^1.8.2"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2024-02-17T00:22:08.411Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-02-17T00:22:08.412Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-02-17T00:22:08.420Z] Found firebase-functions binary at '/Users/smith.e/Desktop/Personal/Github/cointail-frontend/function/node_modules/.bin/firebase-functions'
[info] Serving at port 8475

[error] node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::8475
    at Server.setupListenHandle [as _listen2] (node:net:1872:16)
    at listenInCluster (node:net:1920:12)
    at Server.listen (node:net:2008:7)
    at Function.listen (/Users/smith.e/Desktop/Personal/Github/cointail-frontend/function/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/Users/smith.e/Desktop/Personal/Github/cointail-frontend/function/server.js:60:5)
    at Module._compile (node:internal/modules/cjs/loader:1376:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1435:10)
    at Module.load (node:internal/modules/cjs/loader:1207:32)
    at Module._load (node:internal/modules/cjs/loader:1023:12)
    at Module.require (node:internal/modules/cjs/loader:1235:19)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1899:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '::',
  port: 8475
}

Node.js v20.11.0

[debug] [2024-02-17T00:22:09.100Z] Failed to call quitquitquit. This often means the server failed to start request to http://localhost:8475/__/quitquitquit failed, reason:  {"message":"request to http://localhost:8475/__/quitquitquit failed, reason: ","type":"system","errno":"ECONNREFUSED","code":"ECONNREFUSED"}
[debug] [2024-02-17T00:22:09.101Z] FetchError: request to http://127.0.0.1:8475/__/functions.yaml failed, reason: socket hang up
    at ClientRequest.<anonymous> (/Users/smith.e/Desktop/Personal/Github/cointail-frontend/node_modules/node-fetch/lib/index.js:1501:11)
    at ClientRequest.emit (node:events:518:28)
    at ClientRequest.emit (node:domain:488:12)
    at Socket.socketOnEnd (node:_http_client:519:9)
    at Socket.emit (node:events:530:35)
    at Socket.emit (node:domain:488:12)
    at endReadableNT (node:internal/streams/readable:1696:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
[error] 
[error] Error: An unexpected error has occurred.
