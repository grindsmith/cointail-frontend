runtime: python39
service: default
instance_class: F1
automatic_scaling:
  max_instances: 1
env_variables: 
  REACT_APP_BACKEND_URL: https://web3-sandbox-backend-dot-trim-modem-376419.uc.r.appspot.com

handlers:
  - url: /(.+\.js)
    static_files: build/\1
    upload: build/(.+\.js)
    secure: always
    redirect_http_response_code: 301

  - url: /(.+\.css)
    static_files: build/\1
    upload: build/(.+\.css)
    secure: always
    redirect_http_response_code: 301

  - url: /(.+\.png)
    static_files: build/\1
    upload: build/(.+\.png)
    secure: always
    redirect_http_response_code: 301

  - url: /(.+\.jpg)
    static_files: build/\1
    upload: build/(.+\.jpg)
    secure: always
    redirect_http_response_code: 301

  - url: /(.+\.gif)
    static_files: build/\1
    upload: build/(.+\.gif)
    secure: always
    redirect_http_response_code: 301

  - url: /(.+\.svg)
    static_files: build/\1
    upload: build/(.+\.svg)
    secure: always
    redirect_http_response_code: 301

  - url: /favicon.ico
    static_files: build/favicon.ico
    upload: build/favicon.ico
    secure: always
    redirect_http_response_code: 301

  - url: /(.+\.json)
    static_files: build/\1
    upload: build/(.+\.json)
    secure: always
    redirect_http_response_code: 301

  - url: /(.+)
    static_files: build/index.html
    upload: build/index.html
    secure: always
    redirect_http_response_code: 301

  - url: /
    static_files: build/index.html
    upload: build/index.html
    secure: always
    redirect_http_response_code: 301

#  - url: / 
#    static_files: build/index.html
#    upload: build/index.html
#    secure: always
#  - url: /(.*\.(gif|media|json|ico|eot|ttf|woff|woff2|png|jpg|css|js))$
#    static_files: build/\1
#    upload: build/(.*)
#    secure: always